<div class="container mt-4">
  <h2 class="mb-4 text-center">Items List</h2>

  <div class="text-end mb-4">
    <button class="btn btn-primary" (click)="addItem()">Add Item</button>
  </div>

  <table class="table table-striped table-bordered">
    <thead>
      <tr>
        <th>#</th>
        <th>Title</th>
        <th>Description</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of items | paginate: { itemsPerPage: 5, currentPage: currentPage }; let i = index">
        <td>{{ (currentPage - 1) * 5 + i + 1 }}</td>
        <td>{{ item.title | capitalize }}</td>
        <td>{{ item.body | capitalize }}</td>
        <td>
          <div class="d-flex justify-content-around">
            <i class="fas fa-eye text-primary cursor-pointer" (click)="viewItem(item)"></i>
            <i class="fas fa-edit text-warning cursor-pointer ml-4" (click)="editItem(item)"></i>
            <i class="fas fa-trash text-danger cursor-pointer ml-4" (click)="deleteConfirm(item)"></i>
          </div>
        </td>
      </tr>
    </tbody>
  </table>

  <pagination-controls
    (pageChange)="currentPage = $event"
    previousLabel="Prev"
    nextLabel="Next"
    [maxSize]="7"
    [directionLinks]="true"
    [responsive]="true"
    class="pagination d-flex justify-content-center">
  </pagination-controls>
</div>

<app-item-upsert
  [viewMode]="viewMode"
  [selectedItem]="selectedItem"
  (onCancel)="cancel('itemUpsertModal')"
  (itemSaved)="saveItem($event)">
</app-item-upsert>

<app-item-delete-confirm
  (confirmDelete)="confirmDelete()"
  (cancelDelete)="cancel('itemDeleteConfirm')">
</app-item-delete-confirm>
